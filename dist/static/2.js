(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{202:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2)),a=r(n(325));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t={};return e.modal?t={color:"#CD295A"}:e.chatBox&&(t={color:"silver"}),o.default.createElement("div",{style:t,className:a.default.loader})}},325:function(e,t){e.exports={loader:"UBmsktTD6us6IP-6aYec5",load6:"_3S2CE-OEuu4vdmsJlqdcwr",round:"_2qdnMg3AezWSYwmeeap8bJ"}},330:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2),a=s(o),r=s(n(202)),u=s(n(83)),l=s(n(331)),i=s(n(274));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var p=function(e){function t(){var e,n,o,a,r,u,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=new Array(i),f=0;f<i;f++)s[f]=arguments[f];return o=this,n=!(a=(e=d(t)).call.apply(e,[this].concat(s)))||"object"!==c(a)&&"function"!=typeof a?h(o):a,r=h(h(n)),l=function(){document.getElementById("latest").scrollIntoView({behavior:"smooth"})},(u="scrollToBottom")in r?Object.defineProperty(r,u,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[u]=l,n}var n,s,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o.Component),n=t,(s=[{key:"render",value:function(){var e=this,t=a.default.createElement(r.default,{chatBox:!0}),n=0;return this.props.loading||(t=a.default.createElement(i.default,null,a.default.createElement("div",{className:l.default.ScrollDownDiv},a.default.createElement("span",{onClick:this.scrollToBottom}," Scroll down to the latest message"),a.default.createElement("i",{onClick:this.scrollToBottom,className:"material-icons"}," vertical_align_bottom ")),a.default.createElement("ul",{className:l.default.MessageList},this.props.messages.map(function(t){var o={},r="",s=!1;return++n===e.props.messages.length&&(r="latest"),t.senderId===u.default.auth().currentUser.uid&&(o={backgroundColor:"#38ADAE",color:"#fff",float:"right"},s=!0),a.default.createElement(i.default,{key:t.id},a.default.createElement("li",{style:o},a.default.createElement("span",{className:l.default.TimeStyle}," ",t.createdAt," "),a.default.createElement("div",null,"Sender: ",s?"You":t.sender.name),a.default.createElement("div",{style:{padding:"0 20px"}},t.text)),a.default.createElement("div",{id:r,style:{height:"1px",display:n===e.props.messages.length?"block":"none"}}," "))})))),t}}])&&f(n.prototype,s),p&&f(n,p),t}();t.default=p},331:function(e,t){e.exports={ScrollDownDiv:"py8e93--eQQtlChDf3r08",scrollDownDiv:"py8e93--eQQtlChDf3r08",MessageList:"_2oerWiM9vePfRjByng1n95",messageList:"_2oerWiM9vePfRjByng1n95",TimeStyle:"_2gHGA6QN_eF6cxAtIq1-Hl",timeStyle:"_2gHGA6QN_eF6cxAtIq1-Hl"}},332:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2)),a=r(n(333));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return o.default.createElement("form",{className:a.default.MessageForm,onSubmit:e.handleSubmit},o.default.createElement("input",{onChange:function(t){return e.changed(t)},type:"text",placeholder:"Your message...",value:e.message}),o.default.createElement("i",{onClick:e.handleSubmit,className:"material-icons "+a.default.SendButton},"send"))}},333:function(e,t){e.exports={MessageForm:"vNmnlkEvqeDfF8k4ZB1qJ",messageForm:"vNmnlkEvqeDfF8k4ZB1qJ",SendButton:"morg6QiYzLhY9j1vi82Si",sendButton:"morg6QiYzLhY9j1vi82Si"}},334:function(e,t){e.exports={Chat:"_2BK_doRKxlAkQZNg5PsVwe",chat:"_2BK_doRKxlAkQZNg5PsVwe"}},335:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getName=void 0;var o,a=n(83),r=(o=a)&&o.__esModule?o:{default:o};t.getName=function(){return new Promise(function(e,t){r.default.database().ref("usersData/"+r.default.auth().currentUser.uid).on("value",function(t){e(t.val().displayName)},function(e){t(e)})})}},344:function(e,t){},346:function(e,t){},380:function(e,t){},381:function(e,t){},474:function(e,t){},574:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=d(o),r=n(329),u=d(n(330)),l=d(n(332)),i=d(n(168)),s=d(n(83)),c=d(n(334)),f=n(335);function d(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var b=n(336),v=function(e){function t(e){var n,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(a=p(t).call(this,e))||"object"!==m(a)&&"function"!=typeof a?g(o):a).state={message:"",messages:[],currentUser:null,stillFetching:!0},n.handleMessageChange=n.handleMessageChange.bind(g(g(n))),n.handleSubmit=n.handleSubmit.bind(g(g(n))),n}var n,d,v;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,o.Component),n=t,(d=[{key:"componentDidMount",value:function(){var e=this;i.default.load(),s.default.auth().onAuthStateChanged(function(t){if(t){var n="",o=new b.default({instanceLocator:"v1:us1:3737eeb2-ee9c-46ac-8294-9640afa1766d",key:"412ef7b6-af8f-4459-b50d-97cba4679ea2:EsjMCMf0r0Es57IghvikiqmjrrcbNZNpxH1yp8LTz3c="});(0,f.getName)().then(function(e){n=e}).catch(function(e){throw new Error(e)}),o.getUser({id:t.uid}).then(function(){}).catch(function(){o.createUser({id:t.uid,name:n}).then(function(t){e.setState({currentUser:t})}).catch(function(){})}),new r.ChatManager({instanceLocator:"v1:us1:3737eeb2-ee9c-46ac-8294-9640afa1766d",userId:t.uid,tokenProvider:new r.TokenProvider({url:"https://us1.pusherplatform.io/services/chatkit_token_provider/v1/3737eeb2-ee9c-46ac-8294-9640afa1766d/token"})}).connect().then(function(t){e.setState({currentUser:t}),t.joinRoom({roomId:"19477446"}).then(function(t){e.setState({stillFetching:!1})}).catch(function(){}),t.subscribeToRoom({roomId:"19477446",hooks:{onMessage:function(t){e.setState({messages:e.state.messages.concat(t)})}},messageLimit:50})}).catch(function(){})}})}},{key:"componentWillUnmount",value:function(){i.default.load(),this.state.stillFetching||this.state.currentUser.leaveRoom({roomId:"19477446"}).then(function(e){}).catch(function(e){})}},{key:"handleMessageChange",value:function(e){e.preventDefault(),this.setState({message:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;i.default.load(),e.preventDefault(),this.state.message&&this.state.currentUser.sendMessage({text:this.state.message,roomId:"19477446"}).then(function(){t.setState({message:""})}).catch(function(e){})}},{key:"render",value:function(){var e=this;return a.default.createElement("div",{className:c.default.Chat},a.default.createElement("h1",{style:{color:"silver",textAlign:"center"}}," General Chat Page "),a.default.createElement("hr",null),a.default.createElement(u.default,{loading:this.state.stillFetching,messages:this.state.messages}),a.default.createElement("hr",null),a.default.createElement(l.default,{message:this.state.message,handleSubmit:this.handleSubmit,changed:function(t){return e.handleMessageChange(t)}}))}}])&&h(n.prototype,d),v&&h(n,v),t}();t.default=v}}]);
//# sourceMappingURL=2.js.map