(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{333:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2),a=s(o),r=s(n(105)),l=s(n(104)),u=s(n(334)),i=s(n(277));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var p=function(e){function t(){var e,n,o,a,r,l,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=new Array(i),f=0;f<i;f++)s[f]=arguments[f];return o=this,n=!(a=(e=d(t)).call.apply(e,[this].concat(s)))||"object"!==c(a)&&"function"!=typeof a?h(o):a,r=h(h(n)),u=function(){document.getElementById("latest").scrollIntoView({behavior:"smooth"})},(l="scrollToBottom")in r?Object.defineProperty(r,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[l]=u,n}var n,s,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o.Component),n=t,(s=[{key:"render",value:function(){var e=this,t=a.default.createElement(r.default,{chatBox:!0}),n=0;return this.props.loading||(t=a.default.createElement(i.default,null,a.default.createElement("div",{className:u.default.ScrollDownDiv},a.default.createElement("span",{onClick:this.scrollToBottom}," Scroll down to the latest message"),a.default.createElement("i",{onClick:this.scrollToBottom,className:"material-icons"}," vertical_align_bottom ")),a.default.createElement("ul",{className:u.default.MessageList},this.props.messages.map(function(t){var o={},r="",s=!1;return++n===e.props.messages.length&&(r="latest"),t.senderId===l.default.auth().currentUser.uid&&(o={backgroundColor:"#38ADAE",color:"#fff",float:"right"},s=!0),a.default.createElement(i.default,{key:t.id},a.default.createElement("li",{style:o},a.default.createElement("span",{className:u.default.TimeStyle}," ",t.createdAt," "),a.default.createElement("div",null,"Sender: ",s?"You":t.sender.name),a.default.createElement("div",{style:{padding:"0 20px"}},t.text)),a.default.createElement("div",{id:r,style:{height:"1px",display:n===e.props.messages.length?"block":"none"}}," "))})))),t}}])&&f(n.prototype,s),p&&f(n,p),t}();t.default=p},334:function(e,t){e.exports={ScrollDownDiv:"py8e93--eQQtlChDf3r08",scrollDownDiv:"py8e93--eQQtlChDf3r08",MessageList:"_2oerWiM9vePfRjByng1n95",messageList:"_2oerWiM9vePfRjByng1n95",TimeStyle:"_2gHGA6QN_eF6cxAtIq1-Hl",timeStyle:"_2gHGA6QN_eF6cxAtIq1-Hl"}},335:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2)),a=r(n(336));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return o.default.createElement("form",{className:a.default.MessageForm,onSubmit:e.handleSubmit},o.default.createElement("input",{onChange:function(t){return e.changed(t)},type:"text",placeholder:"Your message...",value:e.message}),o.default.createElement("i",{onClick:e.handleSubmit,className:"material-icons "+a.default.SendButton},"send"))}},336:function(e,t){e.exports={MessageForm:"vNmnlkEvqeDfF8k4ZB1qJ",messageForm:"vNmnlkEvqeDfF8k4ZB1qJ",SendButton:"morg6QiYzLhY9j1vi82Si",sendButton:"morg6QiYzLhY9j1vi82Si"}},337:function(e,t){e.exports={Chat:"_2BK_doRKxlAkQZNg5PsVwe",chat:"_2BK_doRKxlAkQZNg5PsVwe"}},346:function(e,t){},348:function(e,t){},382:function(e,t){},383:function(e,t){},476:function(e,t){},576:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=f(o),r=n(332),l=f(n(333)),u=f(n(335)),i=f(n(170)),s=f(n(104)),c=f(n(337));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var g=n(338),b=function(e){function t(e){var n,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(a=h(t).call(this,e))||"object"!==d(a)&&"function"!=typeof a?y(o):a).state={message:"",messages:[],currentUser:null,stillFetching:!0},n.handleMessageChange=n.handleMessageChange.bind(y(y(n))),n.handleSubmit=n.handleSubmit.bind(y(y(n))),n}var n,f,b;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,o.Component),n=t,(f=[{key:"componentDidMount",value:function(){var e=this;i.default.load(),s.default.auth().onAuthStateChanged(function(t){if(t){var n=new g.default({instanceLocator:"v1:us1:3737eeb2-ee9c-46ac-8294-9640afa1766d",key:"412ef7b6-af8f-4459-b50d-97cba4679ea2:EsjMCMf0r0Es57IghvikiqmjrrcbNZNpxH1yp8LTz3c="});n.getUser({id:t.uid}).then(function(){}).catch(function(){n.createUser({id:t.uid,name:"temporary"}).then(function(t){e.setState({currentUser:t})}).catch(function(){})}),new r.ChatManager({instanceLocator:"v1:us1:3737eeb2-ee9c-46ac-8294-9640afa1766d",userId:t.uid,tokenProvider:new r.TokenProvider({url:"https://us1.pusherplatform.io/services/chatkit_token_provider/v1/3737eeb2-ee9c-46ac-8294-9640afa1766d/token"})}).connect().then(function(t){e.setState({currentUser:t}),t.joinRoom({roomId:"19477446"}).then(function(t){e.setState({stillFetching:!1})}).catch(function(){}),t.subscribeToRoom({roomId:"19477446",hooks:{onMessage:function(t){e.setState({messages:e.state.messages.concat(t)})}},messageLimit:50})}).catch(function(){})}})}},{key:"componentWillUnmount",value:function(){i.default.load(),this.state.stillFetching||this.state.currentUser.leaveRoom({roomId:"19477446"}).then(function(e){}).catch(function(e){})}},{key:"handleMessageChange",value:function(e){e.preventDefault(),this.setState({message:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;i.default.load(),e.preventDefault(),this.state.message&&this.state.currentUser.sendMessage({text:this.state.message,roomId:"19477446"}).then(function(){t.setState({message:""})}).catch(function(e){})}},{key:"render",value:function(){var e=this;return a.default.createElement("div",{className:c.default.Chat},a.default.createElement("h1",{style:{color:"silver",textAlign:"center"}}," General Chat Page "),a.default.createElement("hr",null),a.default.createElement(l.default,{loading:this.state.stillFetching,messages:this.state.messages}),a.default.createElement("hr",null),a.default.createElement(u.default,{message:this.state.message,handleSubmit:this.handleSubmit,changed:function(t){return e.handleMessageChange(t)}}))}}])&&m(n.prototype,f),b&&m(n,b),t}();t.default=b}}]);
//# sourceMappingURL=2.js.map